-- Fly estilo Infinity Yield para Roblox (ativa/desativa com hotkey)
local flyEnabled = false
local flySpeed = 2 -- pode ajustar no hub!
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local hrp, flying, controls

function enableFly()
    flying = true
    hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    controls = {W=false, A=false, S=false, D=false, Space=false, Ctrl=false}
    showNotification("Fly Infinity Yield ativado!", "success")
end

function disableFly()
    flying = false
    showNotification("Fly Infinity Yield desativado!", "info")
end

UserInputService.InputBegan:Connect(function(input, gp)
    if not flying then return end
    if input.KeyCode == Enum.KeyCode.W then controls.W = true end
    if input.KeyCode == Enum.KeyCode.A then controls.A = true end
    if input.KeyCode == Enum.KeyCode.S then controls.S = true end
    if input.KeyCode == Enum.KeyCode.D then controls.D = true end
    if input.KeyCode == Enum.KeyCode.Space then controls.Space = true end
    if input.KeyCode == Enum.KeyCode.LeftControl then controls.Ctrl = true end
end)

UserInputService.InputEnded:Connect(function(input, gp)
    if not flying then return end
    if input.KeyCode == Enum.KeyCode.W then controls.W = false end
    if input.KeyCode == Enum.KeyCode.A then controls.A = false end
    if input.KeyCode == Enum.KeyCode.S then controls.S = false end
    if input.KeyCode == Enum.KeyCode.D then controls.D = false end
    if input.KeyCode == Enum.KeyCode.Space then controls.Space = false end
    if input.KeyCode == Enum.KeyCode.LeftControl then controls.Ctrl = false end
end)

RunService.RenderStepped:Connect(function()
    if flying and hrp then
        local cam = workspace.CurrentCamera
        local move = Vector3.new()
        if controls.W then move = move + cam.CFrame.LookVector end
        if controls.S then move = move - cam.CFrame.LookVector end
        if controls.A then move = move - cam.CFrame.RightVector end
        if controls.D then move = move + cam.CFrame.RightVector end
        if controls.Space then move = move + Vector3.new(0,1,0) end
        if controls.Ctrl then move = move - Vector3.new(0,1,0) end
        if move.Magnitude > 0 then
            hrp.CFrame = hrp.CFrame + move.Unit * flySpeed
        end
    end
end)

-- Hotkey para ativar/desativar
UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.B then
        flyEnabled = not flyEnabled
        if flyEnabled then enableFly() else disableFly() end
    end
end)
